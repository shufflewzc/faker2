/*
ËΩªÊùæËµöË±Ü

cron "31 5,18 * * *" script-path=jd_daily_bean.js, tag=ËΩªÊùæËµöË±Ü

 */

const $ = new Env('ËΩªÊùæËµöË±Ü')
var iÔΩâl='jsjiami.com.v7';const iil1i1=iii1II;(function(iI11II,iIII1I,ilil1i,IlIIi,IiI1l,illlII,iIII11){return iI11II=iI11II>>0x3,illlII='hs',iIII11='hs',function(IiI1i,llll1,lil11l,i1i1Il,I1lIl1){const iIII1i=iii1II;i1i1Il='tfi',illlII=i1i1Il+illlII,I1lIl1='up',iIII11+=I1lIl1,illlII=lil11l(illlII),iIII11=lil11l(iIII11),lil11l=0x0;const lil11i=IiI1i();while(!![]&&--IlIIi+llll1){try{i1i1Il=parseInt(iIII1i(0x166,'lJLM'))/0x1+parseInt(iIII1i(0x156,')7HY'))/0x2+-parseInt(iIII1i(0xdd,'DuXt'))/0x3+parseInt(iIII1i(0x137,'M!Qg'))/0x4*(parseInt(iIII1i(0x170,'UIco'))/0x5)+-parseInt(iIII1i(0xf7,'BBlU'))/0x6+-parseInt(iIII1i(0x124,'9J(%'))/0x7+parseInt(iIII1i(0xbf,'fw7E'))/0x8*(parseInt(iIII1i(0x1a9,']fDn'))/0x9);}catch(IlIIl){i1i1Il=lil11l;}finally{I1lIl1=lil11i[illlII]();if(iI11II<=IlIIi)lil11l?IiI1l?i1i1Il=I1lIl1:IiI1l=I1lIl1:lil11l=I1lIl1;else{if(lil11l==IiI1l['replace'](/[hdlCTrSUPGNVfFyBR=]/g,'')){if(i1i1Il===llll1){lil11i['un'+illlII](I1lIl1);break;}lil11i[iIII11](I1lIl1);}}}}}(ilil1i,iIII1I,function(lI1liI,i1i1Ii,lllii,iI11Ii,iIII1l,lllil,iI11Il){return i1i1Ii='\x73\x70\x6c\x69\x74',lI1liI=arguments[0x0],lI1liI=lI1liI[i1i1Ii](''),lllii=`\x72\x65\x76\x65\x72\x73\x65`,lI1liI=lI1liI[lllii]('\x76'),iI11Ii=`\x6a\x6f\x69\x6e`,(0x159f88,lI1liI[iI11Ii](''));});}(0x5f0,0xe2c1c,Iii11l,0xc0),Iii11l)&&(iÔΩâl=Iii11l);const jdCookie=require(iil1i1(0x185,'r#bY')),notify=require('./utils/Rebels_sendJDNotify'),common=require(iil1i1(0x161,'ap]5')),{H5st}=require('./utils/Rebels_H'),isNotify=![],floorToken='2752f370-f499-44cd-b024-7c8e881cf7fe',task_map={'taskReceive':iil1i1(0x10e,'Mym%'),'taskFinish':iil1i1(0xe5,'M!Qg'),'taskReward':iil1i1(0x14d,'p%Xw')},Origin=iil1i1(0xca,'[W1u'),Referer='https://jdbeantask-pro.pf.jd.com/',un_area=randomString(0x1,iil1i1(0x18e,'u0A0'))+'-'+randomString(0x4,'1234567890')+'-'+randomString(0x4,'1234567890')+'-'+randomString(0x5,iil1i1(0x1a8,']fDn'));let cookie='';const cookiesArr=Object[iil1i1(0x19b,'0)nB')](jdCookie)[iil1i1(0x131,'k!*!')](Iiil1=>jdCookie[Iiil1])[iil1i1(0x15f,'7x)6')](iiilli=>iiilli);function iii1II(_0x4b0f8f,_0x242dd0){const _0x28d010=Iii11l();return iii1II=function(_0x29d24a,_0x28dd37){_0x29d24a=_0x29d24a-0xaf;let _0x40f12c=_0x28d010[_0x29d24a];if(iii1II['HnPhXq']===undefined){var _0x14795b=function(_0x9e0da6){const _0x2a10bb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1d6a5a='',_0x729972='';for(let _0x54c2f2=0x0,_0x1b90f9,_0x18d9ce,_0x807b2c=0x0;_0x18d9ce=_0x9e0da6['charAt'](_0x807b2c++);~_0x18d9ce&&(_0x1b90f9=_0x54c2f2%0x4?_0x1b90f9*0x40+_0x18d9ce:_0x18d9ce,_0x54c2f2++%0x4)?_0x1d6a5a+=String['fromCharCode'](0xff&_0x1b90f9>>(-0x2*_0x54c2f2&0x6)):0x0){_0x18d9ce=_0x2a10bb['indexOf'](_0x18d9ce);}for(let _0x3d49e8=0x0,_0x4c3221=_0x1d6a5a['length'];_0x3d49e8<_0x4c3221;_0x3d49e8++){_0x729972+='%'+('00'+_0x1d6a5a['charCodeAt'](_0x3d49e8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x729972);};const _0x72610b=function(_0xf3649e,_0x2a2e74){let _0x4b7815=[],_0x182c62=0x0,_0x1a83e4,_0x424af3='';_0xf3649e=_0x14795b(_0xf3649e);let _0x4c9b31;for(_0x4c9b31=0x0;_0x4c9b31<0x100;_0x4c9b31++){_0x4b7815[_0x4c9b31]=_0x4c9b31;}for(_0x4c9b31=0x0;_0x4c9b31<0x100;_0x4c9b31++){_0x182c62=(_0x182c62+_0x4b7815[_0x4c9b31]+_0x2a2e74['charCodeAt'](_0x4c9b31%_0x2a2e74['length']))%0x100,_0x1a83e4=_0x4b7815[_0x4c9b31],_0x4b7815[_0x4c9b31]=_0x4b7815[_0x182c62],_0x4b7815[_0x182c62]=_0x1a83e4;}_0x4c9b31=0x0,_0x182c62=0x0;for(let _0x2d178c=0x0;_0x2d178c<_0xf3649e['length'];_0x2d178c++){_0x4c9b31=(_0x4c9b31+0x1)%0x100,_0x182c62=(_0x182c62+_0x4b7815[_0x4c9b31])%0x100,_0x1a83e4=_0x4b7815[_0x4c9b31],_0x4b7815[_0x4c9b31]=_0x4b7815[_0x182c62],_0x4b7815[_0x182c62]=_0x1a83e4,_0x424af3+=String['fromCharCode'](_0xf3649e['charCodeAt'](_0x2d178c)^_0x4b7815[(_0x4b7815[_0x4c9b31]+_0x4b7815[_0x182c62])%0x100]);}return _0x424af3;};iii1II['kiklfc']=_0x72610b,_0x4b0f8f=arguments,iii1II['HnPhXq']=!![];}const _0x35fdc5=_0x28d010[0x0],_0x3c599d=_0x29d24a+_0x35fdc5,_0x1b9795=_0x4b0f8f[_0x3c599d];return!_0x1b9795?(iii1II['ydypRI']===undefined&&(iii1II['ydypRI']=!![]),_0x40f12c=iii1II['kiklfc'](_0x40f12c,_0x28dd37),_0x4b0f8f[_0x3c599d]=_0x40f12c):_0x40f12c=_0x1b9795,_0x40f12c;},iii1II(_0x4b0f8f,_0x242dd0);}!cookiesArr[0x0]&&($[iil1i1(0x158,'0)nB')]($[iil1i1(0x176,'yj^O')],iil1i1(0x192,'r]Mw')),process['exit'](0x1));function Iii11l(){const I1lIii=(function(){return[...[iÔΩâl,'SyfjFTsVCSjffiaPmfNhiBl.RrGcomCTG.v7GdrU==','W47cLIlcNW','tCkjW7XaB8oLsM3cLuS','amoOmNO3W6FdIq','WOFcGSo5W6xdKW','WQldL8kObbFdSmofW5lcQq','d8oOigCyW7xdGq','8yskS3S','uSoTWOPwW6xcNG','W63dIu/dJmk3','W5BdSg16AuJdL3XTBYRcNCkNbmoPectdMqPm','zCk8WQiDWRdcVKRcVdHKC8oP','WP/dSmkyW7RdJbhcMa','WPP5zmkN','W5NdHSo5W4RcOaRcR8kEjq','8yk4UWS','W7/dRmozW5pdNeJdICkZWPtcHq','W4xdT0xdO3W','zmkEW5CcWQ8','WQjOpgZdNG','iKqLWOK','rmoyW6xcPJnF','W61EnSo5t8kib8oQFvFcLKRdKSotESkdW5tdTmolmMT1CCkwceRcTWG','WPJcN8kZWPtdLfZcGmkebmoYWOtdQG','WOfaz8k6tq','W68XA0bjbdGUW4r4','WR0zW4VcGG','WOf3pa','WP/cS8o/AmkRoCkTW7u','44ga5OYu56wX44cK6k6K5ywj6i+S5y2xW67dPCksWR8MeW','WPtdOKqDx2NcLmopWOTOq3ZdJG','adRcJxhcSW','WR3cRw9M','eSkZW4ddUSkw','dG8Zn8o8WO7cPG','mSo/jWCa','WQBdNSkMbsZdMSocW4K','eCklW7ddQW','vSknW7Ds','gSoraISI','gYhcIeS','4P+tcEAEUUIbK+AUTEEJRUwNH+EsKGG','W5bzW77dN8kF','z8k2W5OD','W6NcM14','WO53y8k1sCoF','uCkhW6K','imoEWQlcLe0','WPldSv8lF2pcSCoCWO9OvLZdUr0','mmoFWQm','hCoQhMO+W6hdGSkFx8oTW6pcM1RcIw95WORcPmkpWPa','fHlcV8oHWR7dQmkWW51eWRS','frlcVCoNWR3dRCk/W5yXW6/cGwpcNGS','W7TZpSozuG','WR/cVgjZWQKlW4DcsCogjHxdGW','W5tcMctcN8oA','mcinnSoA','nSkOjfOHsdxdP8ocW4BcLmkNoW','cCogWRO','WRX3tSoTWOW','vfxdR8k2W67cRCo0','WRBcPba','bJ8uaCoB','aq8HkSouWOFcPCo4','WQhcPmoNW5BdReZdQSkXWO7cLmoBW6K','WRaFWP9iWRa','WQBcOSoVtSks','aUITHUAZI+wNO+I1SW3IN4BcU+AxTowtP+w6JEAwKEAoIq','jmkLof4vAdxdQmoEW6i','W7ZdVSkXmthdVmoP','mSo0fbC','fCkFW7ddQmktW74pWQJdV8kZWOhcJG','WQJcVMLLWQ4lW41dqCoDftq','WP7cR8oOrCkjoCkN','pmkRla','W4LIW4hcJ2y','WRePWQvDWQzMaa','W7RdI3RdT8kDySotWPDgW4xdGfTvWRNdTmoNfspcJa','W6NcGd/cO8oF','kmock0e7','sSofW73cOIuxDCk0FK57WOtcHGRdKZFdJ8oZWRNdM8ogW4yvi3ZdO8oiqZ9auCk9','oJpcNLlcImkJymkG','WRy5WRb/WQ91fa','oSkGzLC2ydxcRmozW6VcJSk/'],...(function(){return[...['cmkqW6FdPSkI','WOpcV8oRySkxpmktW6tcSaxdNmk3','i8kWovW9zJldP8ou','W43dPeb0Aq','WRddISkaic4','W6VcLvtcNa','WP5EpNVdJG','5lM45yQRxW','t+IUT+AYUEwtREw5KSoI','ruxdRCk7W5JcTSoOWPCjW5/cG0NcPq0','zCoqWRRcQmkLtY/cHmoj','nSkTmW','W6xdOCoGWR98','WQ7cRxjZ','BJJcRmkJaq','WQOrWQNcM8oNWRJcJ8ohBshdLmo8','WRpcPrnyWQC','5Awl5y235AYW5lIf77+w5lMA5PAm5OQh5P665lIH5yMt6ych5BA657UU5A6A5OMP7721','wmoAWOlcHmkTssO','fWSZlW','bCo5nxKLWRRcG8oEw8oXW5xdHvBdGgbcW4dcPSkuWPZdO8kPW4K4','6lAa5y2G5PEs5Pwr','5AAL5yYP5A+75lMV776R5lQR5Pso5OUJ5P+s5lQn5yI66ygX5BAF57Q65A6b5OI1772H','5A2U5OIU5lU95yU+','rSk2W5aqWO0wW5ZcM8ouW55Bwa','vu3dTCkzW6q','WR7cQGnCWOWDomo3W5NdQmosF8o8ba','xY3cP8kSgW','qmouW6JcVb9dpmo0','WOxdPuGjsx/cTW','WQhcLCopvW','hdxcMepcO8kXFG','WPxcIdxcSY8kkSoumuddOq','WQuxW58','umo/WRTWW6pcMYdcHmkMWQj0A8oQldFcJeZcIuu4','WPL3zSk2tG','WPZdHSkwW4qK','f8oMWP3cHvJcLmohWQGAwW','W6pdJY8','W61iW77dISk5W60','WOCmfmotWQa','WOjqW57dHSkPdMWwfrrfWRH3WQm','cCkkW7FdS8kPWQPgW6JdKSkQWPVdLcupFb1AngP1W4ddSHxdIa','W5BdV1NdMvS','g8oAduux','WQWaW4ZcUqJdKgy/cSoCzXO','W7TmWOZdKvZcKhiGf8oPDIm','W7W3WRRcKSo2','W45RpmojEa','bCkFW7FdOG','WQOqW5NcMYJdLG','AWhcHa','WPzFDtrplmoKWOCuWQCQ','BMZdTmkKW4u','tMJOJPZLVA8','BmkRWRe','WOFcOwT7WRC','WQ7dKSkPdcFdKCofW4JcMSkYaSk+WR/dJq','W7LyhCoX','sSoXsWxdPw/dTa','zmkRW5KPWOKi','W6JcM+InSow/Va','W5tcLJZcKCoYbebmWQTm','Cmk6W7uoWPS','6AoL5y685lQ75yUL','cmkXW6FdT8k7','dI1fWP9HW6W','WO58rCkPAq','WOJdJmk8W5pdVW','WOzFCJ4','WRFdL8kmW5q+kIJcIuGNFgdcGxS','WRHWh8oWgMZcVG','W4HkdmoIB8kDd8o9','W5ldPeJdL8ks','WOxcU8oVAa','s8o7xZpdTNO','W4RdKmkDW5pdUt7cSa','WRtdHq3dGseeW5hcKmoiy8kXW75oxa','a8kBW6ldRCkuW6ue','dmk6iJLI','W5RdVmosWQ58uSoiW74','WPjYrmoJWOi','emo9WPtcOuRcJa','tCkpW5fcASo3yglcHeBdPSopWRpcNGpcISkiqW7dNG','4P6FWPBMN5lNNzdORPRMSiD9'],...(function(){return['WRBcPSohW7VdVLpdG8kRWONcOCo9W5ythbCcW7JcNLC','W69TW6uJW7K2xNjWAmorDSo0WQS','emolia','W7rLW7tdOmkV','WRpcRmoxW44','W7tdHLxdONm','krPyWPjZ','DCk4W4WfWOulW6ZdL8o0W4y','hmoQWOdcN0RcM8o2','WQnIAmoTWOG','tt7dQSkdW4nbW5xcJG','fmkqW7ddPSkUW5mgWQJdMmkZWPC','cCoSnwG','W5pcGY3cM8oX','WP1hFW','BSoLW5hcLXW','W5NdHSo5W4RcTWhcU8k2m8oI','W6hcLu3cMefAWP3dKmobs8kBW5zjCa','W4pdRmobW4ZcLa','W7HYW6VcL0Gn','W5akmMCOE8oYWPatWRCQW5y','5lIH5yMQla','q8obW7NcVJ9oo8oVFuv3W47cN0NdKchdI8k1W7ldHmogW4qwjMJcOCohsxjmwSk1ca','WRjSpW','ySk8W4OSW50lW5W','juq+WPZdSbW','W71mW7hdGmkFW67cPCo7','W6ldHtVcMSogbSko','nUITGUAYJowNMUI3RWdIN5JdJq','B8kyW6f3va','W7JcV8obWQpcH1ZdL+w+REwNNoodKos6LEs5ToI2UownJa','W6VcKqxcU8o9','WQ4zWQdcM8oLWRpdU8kGwGddUSofW47cGq','zSkOWRKIWQm','vmo5WPD4','sKxdV8kMW6RcUCoI','WPFdOfTerhxdQCoEWO1QCb3dTqfsn39QnCoIqCoVnuOAW53dOfa','W43cKJZcICovcKS','WRxdHCkDW4W8','dtjpWQ9c','aCoIjG','yCk4W4OfWRSxW53dHmoJW4jOuSolW7u','6AgC5yYD5AsH5yQm','WQZcPwPMWRGC','WOxdTmkcW70','4PYJyoIhOEACJoI8LUIIJUMbIUwlTEs6HUMvNEIVVbC','WRdcGGvkWOW','ACk2W5K','ASoIW4BcUIy','juitWPtdSXVdOI1hFaZdHSoyc8o5DmoUWOtcTrhcHmoqmmoesmkECgm','wmkAW7XoCa','W5qHBtVcJZVcUmoRerBcOG','W7zDC0Om','umkBW6K','EIJdRSkFW4nvW5u','W5dcLJ3cM8ozhG','WP/dV1G','W4Tzs2Cy','gCoIkMW4','WOpcU8oYz8kknq','W5tdRmooWR5qqW','peO/','W5JcV14ErwdcT8kbWR5OD1BdSqSGp3LrDmo2vSkTmW','W7FdP8oHWQXV','WPNcVhruWQS','is/cT0/cOCkRyW','mKa4WRhdSGJdRJf1AXNdRCoefG','mCoXW6f1W6xdV33cTcfKu8o2','WP3cTCo7','ACoAWPj9W6q','WQCZW7pcHbG','WRtdNmkyca3dLCokW4JcRCk7kSkVWQZdJLXEWPFdO8o1zq','WP1/uSk6tSomW6Dsohv2W645WPixaSotyxvCWOZcGSk9WPmvWRRcMSkz','BSkLWRSO','j1bsdq','4PYDWRVOHARMNz7OVPZOO7/PGRBLI7BKUBlPLkBOR57dJG','bILFWPK','umokWRBdImkPW4CIWQBdPa','WRXMorOYr2i','WPJcLCo4D8ke','W4RdGSo+W6lcIGVcP8k+jmoqWORdJ3BdQG','WQ8NeSoPWQy','W6aVWOVcQCow'];}())];}())];}());Iii11l=function(){return I1lIii;};return Iii11l();};!(async()=>{const il1i11=iil1i1,l1iIIl={'OWTal':function(iiilll,lI11Il){return iiilll<lI11Il;},'oPutU':function(lIII1i,l11i11){return lIII1i+l11i11;},'RbOyZ':function(IilIl1,lIII1l){return IilIl1+lIII1l;}};notify[il1i11(0x1a2,'uYDL')]({'title':$[il1i11(0xd3,'n1Bh')]});for(let l1iIIi=0x0;l1iIIl[il1i11(0xfd,'BBlU')](l1iIIi,cookiesArr[il1i11(0x110,'$TLi')]);l1iIIi++){$[il1i11(0xde,'p%Xw')]=l1iIIl['oPutU'](l1iIIi,0x1),cookie=cookiesArr[l1iIIi],common[il1i11(0xd8,'#T46')](cookie),$['UserName']=decodeURIComponent(common[il1i11(0x173,'Jawc')](cookie,'pt_pin')),$['UA']=common['genUA']($[il1i11(0xcb,')U]K')]),$['message']=notify[il1i11(0x136,'HWIY')]($[il1i11(0xce,'UIco')],$[il1i11(0x116,'0K6c')]),$[il1i11(0x191,'o3br')]='',console[il1i11(0x1a1,'n1Bh')](il1i11(0x141,'ccdb')+$['index']+'„Äë'+($['nickName']||$[il1i11(0x12d,'ka3#')])+'******\x0a'),await Main(),common[il1i11(0x12e,'UIco')]();if($[il1i11(0x17d,'(^p@')])break;await $[il1i11(0x195,'jTtF')](0x3e8);}isNotify&&notify['getMessage']()&&(notify[il1i11(0xb0,'jTtF')](l1iIIl[il1i11(0xc5,'HWIY')](notify['content'],'\x0a')),await notify[il1i11(0x19a,'UIco')]());})()[iil1i1(0xf6,'Hhdl')](lilIi=>$[iil1i1(0x119,'tNT6')](lilIi))[iil1i1(0x115,'DonI')](()=>$['done']());async function Main(){const IlIll1=iil1i1,l1l11I={'HSOhp':function(IilIlI,iIli11){return IilIlI===iIli11;},'LQAEw':'boolean','SRUYY':IlIll1(0x103,']fDn'),'XCDWH':function(Iiiil,Iiiii){return Iiiil(Iiiii);},'RpoVV':IlIll1(0x151,'p%Xw'),'dXPQm':IlIll1(0x198,'Q&I2'),'QScZw':IlIll1(0x179,'r#bY'),'nCNSz':function(l11i1I,IiII){return l11i1I!==IiII;},'ksrmh':IlIll1(0x14a,'$TLi'),'wiiEK':IlIll1(0x102,'M!Qg'),'KJrYn':'pg_interact_interface_invoke','gNYvF':'ORDER_TASK_LIST','XwVbl':function(llIIli,lIII1I){return llIIli==lIII1I;},'fJWIs':IlIll1(0x133,'Jawc'),'Mmmij':'UrbPu','IwpYk':function(illIlI,liIiI,l1il1I){return illIlI(liIiI,l1il1I);},'sMCyL':function(Iiili,IilIli){return Iiili+IilIli;},'lXjim':function(li1,illIl1){return li1*illIl1;}},lilIl=await common[IlIll1(0x165,'H5X[')](cookie);if(!lilIl&&l1l11I['HSOhp'](typeof lilIl,l1l11I[IlIll1(0xb5,'k!*!')])){console[IlIll1(0x105,'lJLM')](IlIll1(0xe3,'45B)'));return;}try{if(l1l11I[IlIll1(0x153,'[W1u')](l1l11I[IlIll1(0xfe,'0K6c')],IlIll1(0x188,')7HY')))li1I1[IlIll1(0x190,')7HY')](i1ilil['message']);else{$[IlIll1(0x17f,'45B)')]='',await l1l11I[IlIll1(0xe9,'W6O9')](sendRequest,'pg_channel_page_data');if($[IlIll1(0x16a,'fw7E')]){if(IlIll1(0xd2,'fw7E')===l1l11I[IlIll1(0x140,'0)nB')])delete i1IIi[IlIll1(0x127,'r#bY')][IlIll1(0x10a,'N4vy')][IlIll1(0x180,'lJLM')];else{let lI11Ii=![];for(let Iiill of $[IlIll1(0x121,'0)nB')]?.[IlIll1(0xb3,'r]Mw')]||[]){if(l1l11I['dXPQm']!==l1l11I['QScZw']){$[IlIll1(0xb1,'yj^O')]=Iiill?.[IlIll1(0xf1,'uYDL')];let l11i1i=Iiill?.[IlIll1(0x17a,'fw7E')]?.[IlIll1(0xba,'r#bY')]?.[IlIll1(0xc1,'UIco')]?.[IlIll1(0x14e,'jTtF')](l1il11=>l1il11?.[IlIll1(0x199,'fw7E')]?.[IlIll1(0x159,'ka3#')])||[],lI11I1=Iiill?.['floorData']?.['getHomeTaskInfo']?.[IlIll1(0xd7,']fDn')]?.[IlIll1(0x18a,'[W1u')](IiI1=>IiI1?.[IlIll1(0x107,'fw7E')]?.['beanNum'])||[];for(let liI of l11i1i){if(l1l11I[IlIll1(0xbb,'9J(%')](l1l11I[IlIll1(0xd1,'45B)')],IlIll1(0x1a4,'sje^'))){$[IlIll1(0x145,'(^p@')]=liI;let illIli=liI?.[IlIll1(0xcf,'o3br')];switch(illIli){case 0x0:lI11Ii=!![],$['dataSourceCode']=l1l11I['wiiEK'],await sendRequest(l1l11I[IlIll1(0x19c,'Q&I2')]),await $['wait'](0x7d0);case 0x1:if(Iiill?.[IlIll1(0xc0,'Q&I2')]==l1l11I['gNYvF']||l1l11I[IlIll1(0x128,'ICyF')](liI?.[IlIll1(0xf3,'sje^')],0xb))break;lI11Ii=!![],$[IlIll1(0x14c,'N4vy')]=IlIll1(0xbe,'r]Mw'),await sendRequest(l1l11I[IlIll1(0x174,'Hhdl')]),await $[IlIll1(0x189,'H5X[')](0x7d0);case 0x2:lI11Ii=!![],$['dataSourceCode']=l1l11I[IlIll1(0xaf,'0K6c')],await sendRequest(IlIll1(0x154,'H5X[')),await $['wait'](0x7d0);break;}}else delete I1llil['data'],delete I1llii['headers']['Content-Type'];}}else i1ili1[IlIll1(0x1a3,'0)nB')](IlIll1(0xdf,'UIco'));}!lI11Ii&&(l1l11I[IlIll1(0x15c,'r&9&')](l1l11I['Mmmij'],l1l11I[IlIll1(0x106,'jTtF')])?console[IlIll1(0x152,'N4vy')](IlIll1(0xe4,'V#A*')):lI1Iii[IlIll1(0x164,')U]K')]=!![]);}}await $[IlIll1(0x182,'uYDL')](l1l11I[IlIll1(0xc8,'yj^O')](parseInt,l1l11I[IlIll1(0x196,'UIco')](l1l11I[IlIll1(0x18d,'uYDL')](Math[IlIll1(0x15e,'o3br')](),0x3e8),0x3e8),0xa));}}catch(ii1I11){console[IlIll1(0x13a,'u0A0')](IlIll1(0x16e,'Q&I2')+ii1I11);}}async function handleResponse(liIi1,lI11II){const IlIII=iil1i1,l1llI1={'SHMrG':function(llIIll,IillIi){return llIIll===IillIi;},'aGifG':'zYWZR','hZmgC':function(lii,IllI1i){return lii!==IllI1i;},'HbPdH':'YdFeS','EOjHm':IlIII(0x130,'yj^O'),'LTXEJ':'Êú™ÁôªÂΩï','iFFcc':function(i11I1l,lil){return i11I1l===lil;},'iVOXR':IlIII(0xfa,'9I2G'),'TOGIB':IlIII(0xd4,')7HY'),'kLdNy':IlIII(0x18b,'0K6c'),'OJFln':function(IllI1l,i11I1i){return IllI1l===i11I1i;}};try{if(l1llI1[IlIII(0xb2,'Mym%')](l1llI1[IlIII(0x187,'N4vy')],IlIII(0x112,'ccdb')))switch(liIi1){case IlIII(0x1a7,'9I2G'):if(lI11II[IlIII(0xb6,']fDn')]===!![]&&lI11II['data'])$['pg_channel_page_data']=lI11II[IlIII(0xdb,'jTtF')];else{if(lI11II[IlIII(0x178,'9I2G')]){if(l1llI1['hZmgC'](l1llI1['HbPdH'],l1llI1[IlIII(0xc9,'9I2G')]))console[IlIII(0x101,'W6O9')](lI11II['message']),lI11II[IlIII(0x13e,'V#A*')]==l1llI1[IlIII(0x132,'[W1u')]&&(l1llI1[IlIII(0x186,'ICyF')](l1llI1[IlIII(0xdc,'W6O9')],l1llI1['TOGIB'])?delete l1i111[IlIII(0x15a,'yj^O')]:$[IlIII(0xe0,'#T46')]=!![]);else{let liIl1=IlIII(0xd5,'r&9&')+IiilIi[IlIII(0x118,'o3br')]?.['name']+']'+IiilIl[iii1Ii[IlIII(0x134,'n1Bh')]]+'ÊàêÂäü';iii1Il?.[IlIII(0x16f,'$TLi')]?.[IlIII(0x199,'fw7E')]?.['beanNum']&&(liIl1+=IlIII(0x104,'$TLi')+IlI1l?.[IlIII(0x113,'M!Qg')]?.[IlIII(0xb9,'Mym%')]?.['beanNum']+'‰∫¨Ë±Ü'),i1lI['log'](liIl1);}}else console[IlIII(0xb7,'p%Xw')](''+JSON['stringify'](lI11II));}break;case l1llI1[IlIII(0x126,'DuXt')]:if(l1llI1[IlIII(0x117,'C6iM')](lI11II[IlIII(0xed,')U]K')],!![])&&lI11II['data']){let II1lll=IlIII(0x138,'p%Xw')+$[IlIII(0xe1,'Mym%')]?.[IlIII(0x16c,'lJLM')]+']'+task_map[$[IlIII(0x114,'zO)f')]]+'ÊàêÂäü';lI11II?.[IlIII(0x16d,'G8Ev')]?.[IlIII(0xea,'[W1u')]?.[IlIII(0x11c,'UIco')]&&(IlIII(0x168,'(^p@')==='mbLSr'?(lI1Ili['log'](IliilI),i1II1&&(llIllI[IlIII(0xc3,'o3br')]=!![],I1ilI1[IlIII(0x146,']fDn')]&&II1li1['message']['fix'](l1lIlI))):II1lll+=',\x20Ëé∑Âæó'+lI11II?.[IlIII(0x12f,'9I2G')]?.[IlIII(0x13d,'DuXt')]?.[IlIII(0x171,'u0A0')]+'‰∫¨Ë±Ü'),console[IlIII(0xb7,'p%Xw')](II1lll);}else lI11II[IlIII(0x197,'Mym%')]?console[IlIII(0x14b,'9I2G')](lI11II[IlIII(0x109,'tNT6')]):console[IlIII(0xef,'Kvea')](''+JSON[IlIII(0xd0,'r]Mw')](lI11II));break;}else II11Ii['log'](IlIII(0x150,')U]K')+II11Il);}catch(IiIl){console['log'](IlIII(0x19e,'DuXt')+liIi1+IlIII(0xd6,')U]K')+(IiIl[IlIII(0x12b,'sje^')]||IiIl));}}async function sendRequest(IiIi){const ilil1l=iil1i1,iI1ll1={'ozvQu':ilil1l(0xec,'o3br'),'ucKjs':'pg_channel_page_data','WxsMw':'4646c','fseyQ':ilil1l(0xcd,'r]Mw'),'EbCfZ':ilil1l(0x11e,'7x)6'),'tUUNV':ilil1l(0x147,'ap]5'),'nKKmq':ilil1l(0xb4,'0)nB'),'pgAwK':ilil1l(0x16b,'uYDL'),'JhTIu':ilil1l(0x11d,'9I2G'),'eUTEF':ilil1l(0x15b,'ap]5'),'uWwEd':ilil1l(0x1a6,'sje^'),'rmyLo':function(IllI11,l1llIi){return IllI11==l1llIi;},'cdHzI':ilil1l(0xf8,'UIco'),'upUIB':ilil1l(0x139,'[W1u'),'QxUMV':function(II1llI,i11I11){return II1llI===i11I11;},'AAQVo':'GET','WNmcM':ilil1l(0xe6,'N4vy'),'WdBuI':function(l1llIl,ii1I1l){return l1llIl<ii1I1l;},'ZISTb':function(ii1I1i,llI){return ii1I1i>llI;},'KfJAI':function(llliI,iI1li1){return llliI===iI1li1;},'eXqIu':ilil1l(0xf2,'zO)f'),'SprFv':function(lllii1,liIli,liIll){return lllii1(liIli,liIll);},'KRsjf':function(IilIi1,iI1liI){return IilIi1>=iI1liI;},'iOdta':ilil1l(0x11f,'k!*!')};if($['runEnd'])return;let IlI1Il='',l1il1l=null,liIil=null,IllI1I=iI1ll1[ilil1l(0x194,')U]K')],liIii={},II1ll1={};switch(IiIi){case iI1ll1[ilil1l(0x10d,'N4vy')]:II1ll1={'appId':iI1ll1[ilil1l(0xbc,'o3br')],'functionId':ilil1l(0xf0,'(^p@'),'appid':iI1ll1[ilil1l(0x149,'zO)f')],'clientVersion':common[ilil1l(0x123,'r#bY')](),'client':ilil1l(0x160,'H5X['),'body':{'paramData':{'token':floorToken,'channel':'','upstreamChannel':'','upstreamChannel':ilil1l(0x125,'Q&I2')},'argMap':{'source':iI1ll1[ilil1l(0x162,'7x)6')],'ubb_loc':iI1ll1['tUUNV'],'ubb_info':'','sid':'','un_area':un_area},'riskInformation':{}},'version':iI1ll1[ilil1l(0x135,'Jawc')],'t':!![]},liIii=await H5st['getH5st'](II1ll1),IlI1Il=ilil1l(0xe2,'9I2G'),l1il1l=liIii[ilil1l(0x12a,'N4vy')];break;case iI1ll1['pgAwK']:II1ll1={'appId':iI1ll1['JhTIu'],'functionId':iI1ll1[ilil1l(0x17e,'C6iM')],'appid':iI1ll1['fseyQ'],'clientVersion':common[ilil1l(0xc7,'C6iM')](),'client':iI1ll1[ilil1l(0xb8,'Mym%')],'body':{'floorToken':$[ilil1l(0x15d,'9I2G')],'dataSourceCode':$[ilil1l(0x1a5,'ap]5')],'argMap':{'launchChannel':iI1ll1[ilil1l(0x157,'r&9&')],'channel':'','taskEncId':$[ilil1l(0x18f,'Kvea')]?.[ilil1l(0x183,'Jawc')]}},'version':iI1ll1[ilil1l(0x169,'Kvea')]};if(iI1ll1[ilil1l(0xe7,']fDn')]($[ilil1l(0xe8,'p%Xw')],ilil1l(0x10c,'yj^O'))){let l1lIiI=Number($[ilil1l(0x19d,')U]K')]?.[ilil1l(0xc2,'jTtF')]?.[ilil1l(0x193,'ap]5')]?.[0x0]?.['id']||0x0);II1ll1['body'][ilil1l(0x10a,'N4vy')][ilil1l(0xfb,'Kvea')]={'browseTrxId':l1lIiI};}else delete II1ll1[ilil1l(0x1a0,'N4vy')][ilil1l(0x120,'sje^')]['extParamsStr'];liIii=await H5st[ilil1l(0x13b,'N4vy')](II1ll1),IlI1Il=iI1ll1[ilil1l(0x111,'uYDL')],l1il1l=liIii[ilil1l(0x177,'0)nB')];break;default:console[ilil1l(0xf4,'V#A*')](ilil1l(0x122,'zO)f')+IiIi);return;}const IlI1Ii={};l1il1l&&(l1il1l={...l1il1l,...IlI1Ii});liIil&&(liIil={...liIil,...IlI1Ii});const i11I1I={'url':IlI1Il,'method':IllI1I,'headers':{'origin':Origin,'Referer':Referer,'User-Agent':$['UA'],'Cookie':cookie,'content-type':iI1ll1['upUIB'],'accept':'application/json,\x20text/plain,\x20*/*'},'params':liIil,'data':l1il1l,'timeout':0x7530};iI1ll1['QxUMV'](IllI1I,iI1ll1['AAQVo'])&&(delete i11I1I['data'],delete i11I1I[ilil1l(0xcc,'9J(%')][iI1ll1['WNmcM']]);!liIil&&delete i11I1I[ilil1l(0x13c,'H5X[')];const l1il1i=0x1;let ll1=0x0,iI1llI=null,llliii=![];while(iI1ll1[ilil1l(0xda,'7x)6')](ll1,l1il1i)){iI1ll1['ZISTb'](ll1,0x0)&&(iI1ll1[ilil1l(0x142,'yj^O')](iI1ll1['eXqIu'],ilil1l(0x19f,'DuXt'))?await $[ilil1l(0x14f,'ccdb')](0x3e8):i1ilii+=ilil1l(0x10b,'fw7E')+iIIII1?.[ilil1l(0xff,'UIco')]?.['beanInfo']?.[ilil1l(0x17b,'9I2G')]+'‰∫¨Ë±Ü');const llliiI=await common['request'](i11I1I);if(!llliiI[ilil1l(0xeb,'ap]5')]){iI1llI=ilil1l(0x184,'ap]5')+IiIi+ilil1l(0x13f,'#T46')+llliiI[ilil1l(0x155,'0)nB')],ll1++;continue;}if(!llliiI?.[ilil1l(0x108,'0K6c')]){iI1llI=ilil1l(0x17c,')7HY')+IiIi+ilil1l(0xbd,'[W1u'),ll1++;continue;}iI1ll1[ilil1l(0x163,'jTtF')](handleResponse,IiIi,llliiI['data']),llliii=![];break;}if(iI1ll1[ilil1l(0x129,'$TLi')](ll1,l1il1i)){console[ilil1l(0xc4,'r]Mw')](iI1llI);if(llliii){if(iI1ll1[ilil1l(0x172,'o3br')]!==iI1ll1[ilil1l(0x10f,'UIco')]){IiilI1[ilil1l(0x167,'o3br')]('Ë¥¶Âè∑Êó†Êïà');return;}else $[ilil1l(0xc6,'9J(%')]=!![],$[ilil1l(0x181,'ccdb')]&&$[ilil1l(0x148,'yj^O')][ilil1l(0xd9,'r]Mw')](iI1llI);}}}function randomString(IlII1){const illlIi=iil1i1,IiI11={'SDgEs':'0123456789','SOeZL':function(llli1,iIli1i){return llli1<iIli1i;},'zNZYD':function(iI1lii,IilIii){return iI1lii*IilIii;}};IlII1=IlII1||0x20;let lli=IiI11[illlIi(0x12c,'k!*!')],liIlI=lli[illlIi(0x110,'$TLi')],lll='';for(i=0x0;IiI11[illlIi(0x175,'BBlU')](i,IlII1);i++)lll+=lli[illlIi(0x100,'Kvea')](Math[illlIi(0x144,'lJLM')](IiI11[illlIi(0xf9,'ICyF')](Math[illlIi(0xf5,'DuXt')](),liIlI)));return lll;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
