/*
ËΩªÊùæËµöË±Ü

cron "31 5,18 * * *" script-path=jd_daily_bean.js, tag=ËΩªÊùæËµöË±Ü

 */

const $ = new Env('ËΩªÊùæËµöË±Ü')
var iÔΩâl='jsjiami.com.v7';const lIli1I=iii1II;(function(lI1lll,iIiII,iil1lI,iiiliI,li1i1I,illIii,ii1il1){return lI1lll=lI1lll>>0x2,illIii='hs',ii1il1='hs',function(lI1llI,illIil,Ill1I,i11iiI,lIli11){const IlIlil=iii1II;i11iiI='tfi',illIii=i11iiI+illIii,lIli11='up',ii1il1+=lIli11,illIii=Ill1I(illIii),ii1il1=Ill1I(ii1il1),Ill1I=0x0;const lllI1I=lI1llI();while(!![]&&--iiiliI+illIil){try{i11iiI=parseInt(IlIlil(0x288,'MmFs'))/0x1*(-parseInt(IlIlil(0x1d8,'JaDi'))/0x2)+-parseInt(IlIlil(0x1cd,'p*KU'))/0x3*(-parseInt(IlIlil(0x1eb,'T%iL'))/0x4)+parseInt(IlIlil(0x197,')apB'))/0x5+parseInt(IlIlil(0x172,'pwhM'))/0x6+-parseInt(IlIlil(0x28d,'0f*B'))/0x7*(parseInt(IlIlil(0x281,'cJf)'))/0x8)+parseInt(IlIlil(0x1b6,'G[O9'))/0x9+-parseInt(IlIlil(0x270,'cOX6'))/0xa;}catch(lillI1){i11iiI=Ill1I;}finally{lIli11=lllI1I[illIii]();if(lI1lll<=iiiliI)Ill1I?li1i1I?i11iiI=lIli11:li1i1I=lIli11:Ill1I=lIli11;else{if(Ill1I==li1i1I['replace'](/[AQVOLrPtNxKqRnfFSCuI=]/g,'')){if(i11iiI===illIil){lllI1I['un'+illIii](lIli11);break;}lllI1I[ii1il1](lIli11);}}}}}(iil1lI,iIiII,function(IlIlii,i1l1i1,liil11,iiillI,l1l111,l1iIII,llI1I1){return i1l1i1='\x73\x70\x6c\x69\x74',IlIlii=arguments[0x0],IlIlii=IlIlii[i1l1i1](''),liil11='\x72\x65\x76\x65\x72\x73\x65',IlIlii=IlIlii[liil11]('\x76'),iiillI='\x6a\x6f\x69\x6e',(0x16019b,IlIlii[iiillI](''));});}(0x334,0xc0b35,Iii11l,0xcf),Iii11l)&&(iÔΩâl=0xcf);const jdCookie=require(lIli1I(0x251,'T%iL')),notify=require(lIli1I(0x1cf,'Jo^F')),common=require(lIli1I(0x238,'JaDi')),{H5st,jsTk}=require(lIli1I(0x277,'$VSr')),isNotify=![],floorToken=lIli1I(0x180,'kFRV'),task_map={'taskReceive':lIli1I(0x21c,'MmFs'),'taskFinish':'ÂÆåÊàê‰ªªÂä°','taskReward':'È¢ÜÂèñÂ•ñÂä±'};function Iii11l(){const IIIIII=(function(){return[iÔΩâl,'KxjtsPQjAiuVafSmNOViR.tcoqm.vIL7CVrnFuqt==','WRNdICk/v8obW7e','WQZdLmkHsSokW6qUW5H6','bCkKW7tcPG','fMbBBtO','ofJdOmk5WRtdIWDgxmkTqxnFW5m','WRuSumoXFmkdW5G','W6b7BmkeW6S/W74','5AwP5y6P5AYF5lQ477665lQU5PEI5OMT5PYG5lQi5yQx6yo75Bs657U/5AYL5OMv77YK','qKNcKq','wKFcHqu','C8oKCmo3cq','BmoKC8odW7zZW7vbhHNdPfCEzG','oSkWn8kt','WQ94WQhdMJe','W65cW4lcN8ok','6lw65y+o5Pw05PAq','gaSlispdTSkW','W4iQiG','s8kPqbDxgcSYg8kHWQVdHCoJWQhdOmo0','B8khax4c','yCott8kBEZtdTq','W69IcG','W7bbvmoFga','tmkeWOZcSrX2nMddKZXgh0K1','cCoPuG','nMWHWP/cJG','WQz3eqFdLqBdHIlcMSkKW5TanSk0WQBcR8olqCo4W5GufmkSW5xdUK0nWQG','m8o9W7ldI1e','WOXZW4zRW6rdfmk5','qSoNv8kzr8osWOpcPtyA','dCkQW6C','fSouW53dPeW9Dq','heXnumk3','Dgb3WPWSWRBcOKVcM8kbqJj4WONdH2ZcIqOAbq','W5GUW5XGW7j5eCkpvaK','W5PCaCkOcmkiWOOp','W4nztCoSamkOW6eCWRuU','lf7dI8kXWONdKbDgxSkRDKnsW5HeW7tdMmkNvfrzWQVcJCkWWQpcJeLX','WR9oA8kTWR9DWP4nWO4','pCoEW5ldTeWHCN3dTtD6hW','gCoYwd5ZA8ocW4DWt8kQWQ0','W4OQk0a','WQrJc0/dJG','5lUf5yQEW6q','WRBdISk8rmoL','vSoHDmovnCkNW74LWONdGXRdTgRcSW','oNrBjCkld2tdG3K2W4ZdLrqIWOLNW6r/FmkN','rxxdUxur','CCk5deeJ','WRRdR8olWQCIgJFcGa','xh54WQWT','bqepna','f1ddH2/dOa','W54XkeWt','WRfJagBdPa','crinjGldPSkxWR/cOSoqnxy','x1LKomod','CSonW7PapsKoAa','xKhcQqCisYzeDWKNFmkSWQ8JW6pdR8kMWQxcOCozW5LhWOWHW4PfWQ7cIa','ueRdTvr5WOqT','jMyaWRRcVa','zWj1W7JdIvlcPeDvWQqwFeu','mN12DmkZ','p8o6oSk6','W50SiKS/WOfbW4FcKgnH','ySojxmkyzsC','sKftlmor','WPPHWPxdQt7cPCkz','jCoDBI4cmvJdOa','C3nhWOCa','W7nSESk8W688','sCo9W41QkWSIuSoYWR1hWRdcKG','sSkVc2yfkmoy','WOSbcmkXwCoNWR8','omk9lmkDWReoWQqfdq','xgbxW4LVWQzsWOZcMmk5WPFcJKz4WP3dNmk/W4tdIKxcImocdvxcPghcS0zHWRfvxSk/cCkrcG','k19QuCk1hSkW','W5/dLXbKsYS','DCopECkCwG','WR5FBSkLWQnEWQeeWOq','WPyjg8kk','vLRdNSkjWQ/cG8oY','W4noq8o1pCk4W5G','W5fmFCo4g8kSW5SBWR0NgthcHsuRWOpcK8kaWPxdHG','aSoJqsTrgt1jkmk3WQldQCoHWRtdKa','iaquWO1n','aMNdPLhdSa','z8oZzCogkmkPW6yY','CSoaW75ub3bokCohWPbRWPpcVmoruJGAwaJdQZxcOceoqCovW61WWOiFWROyWQm','WOPll2ldHq','4P2wWPtMNQdNN4hOROpMSiHb','W6qCkvWt','W5qTAgyWW45pW6BdHxqZWRivW7dcSdxcLmopW7lcPf5fW7SQgSkeuMNcLbiLW5y4nK8','emoOrGzknZDYiSkTWQW','dN4YWOFcLW','gSohztSonvtdQ8kXt3RdPCk9BG','afGfWR/cVa','xSoMW55riq','W5WMW4/cUMNdPCoAWPdcRSkEWPhdIxK','WRCaWOBcP8k6','nvfWuSkgdmk7'].concat((function(){return['n8otCJf5','CSoaW75ub3bokCohWPbRWPpcVmoruJGAwaJdQZxcOceoqCovW61WWOiFWROy','qhLrbSooeCkqn0K','W4xdR0WuW5VdRCo8WOemDt/cMSoXkmk2AmosbeynWR7dQSocW5JdOmorW4ff','W5zyW5C','zg7dRhat','hqqdhIG','WOv7WPe','WR9Wh8k0WRxdHCoSqHiV','dmoOuqzg','W4xdVeWnW5ZdTW','v8oNxSkwEmokWPS','umoVzmon','y8odsmkUDJldTW','W41erq','WPKBWPRcLmka','4P2wWPtMNQdOG5NMRjFNOktLPAxNKidcJq','atDYuq/dJSodAG','AmoFW79ddq','lsiiiHy','WRtdPCon','W69NcCocWOi','aIzFCZG','jfv2tSkXgmk7','aauBiG','mJuyaJG','hZzMWRRcNa','W5ldRwCWW5ddQSoQWPikCW','zxuUehFcNmkyomooaMXku3a','kbvoW5mA','afmbWQ3cQSopWOW','sLrTWO4R','W7TIW6FcPSoU','ueNdNLnf','D8orW7Lxfs0e','hXhdJLLuDq9Xva80','x0/dJ8kbWQpcKSoGWRpcVcNcRM9OW6xdH8ouW6dcNSoDa0SHbCklWQWznW0wimkboL0','oL4K','FCovW5Lhla','v0TrWPK1','WQi4r8oZ','hW8jnb8','ENP2kCom','idurWP9/','WQzWfSk9WRBdG8o5BZ0JkstcIW','jx4fWQRcQa','BCkVEmoPcNdcNc/dUZZdQhu','WRuYwSoIs8kfW4u','q0pcHr0hwcy','WQTObG','DGSReCoGtmoJjmohWPm','rciAW4lcP8oLW5lcONhcPXNdUW','cK7dPxJdPG','pHddV1i3W4NdMLa5aSoHW6hdLhb4WQX7xSkLFJtcTHuwF8kuFq','W5CPW5zSW7K','CK3dPveTW4ddObencmovW4S','WQCnWQBcPG','reVcUbOh','W4PAvW','W4RdKXPIsq','dc9MWR4','WOCjyW','wLDAzKpdICksWPBcHSoAba','qfddSLi','nvn+tmkvgSkHwSkB','6lwS5y+K5PEK5Pso','W5jas8oRiCk4W5S','44gm5O6g56ss44k26k6/5ys46iY15y+vWRWzWQlcLYFcUa','eIbRWQ/cVq','WOunhmkIe8kDWQqNCvSuWRjTrq','vhDBbCoP','ifn1vSkXcW','khzLkmkTg2C','mXjIW7eJ','xu/cKqaNxdD/CG','qCoPB8kEESosWOFcOYikWO5lW6XOW6ldSCkjW7BcOrbJm8kqogaKWQm5','W7fRB8kdW50LW63cKmkhnIWvtI4','W5HDW5ddHcvSWQa','xmoHBCor','rKFdV0m','sN82W7NdS8kzW4P+WRyMwtpcIgW','qSkwBX42j37dKa','W78xW6i','WRH8aSkGWPBdH8oO','W6P3dSorWPvUjfNcOCoWW5uRlCk9WOZcJe4zEGtdP8o3WRBcJq','W50UlfuSWPDB','w8kJdwykpSobW7P3ECkt','W7b7FmkFW4a5W6C','f8oNwWDrgq','WRL8h8k0WOpdIa','WQGWumo5v8krW4yq','W6HaW5VcOCot','W4hdMWr5yYlcVW','W5nktmo/hmkG','puNdPmk0WO7dHXnavSkNBdnrW4vFW7/cHSoHqvjeWOddI8kUWRNcGKT6WRqdW6vZW64','s8kRhMSJ','e+IVUUAXOEwLNUI2HvBINAvX5PEq5zot5BIN5PAp5OYl','wmo7Amk9Eq','bMO4WONcGW','wghcUW8R','5lU15yIhyoEUO+wiPWJMIOlLIARcTCkG6i2+5B2X','W50YW4b7W5j4iSkezrhdT0LDWOy','fIT8WRNcPmonWPK'].concat((function(){return['C1ddRKm','jIzFW5eW','zfddOumW','cY99WQVcQmoz','CgzBWPqcWR7cOKZcJCkf','tLRdPur9WPa7','khzLkmkQagZdGG','W4ldNXPV','hWeroG','W4iGk0ikWOO','amo+qtnFbJLWoSkxWR3dKG','v8ooW49nnW','FLBdQu0qW4tdHbO','sv7dLSkz','kZDbW5m','WQfnWRFdVXi','W5Lds8k2W4aRWR3cP3SjW7q4WRG','W6jetmoVfSkJW4fyWOWYnIq','mcvJqHldGmoBFCo+a0v3FuC','x23dJMmmW7RdVt44lmoCW4JdSvbZ','W4OeW5r9W5m','WO11WOldQW','dqLcWQVcIa','zmocfSk/CJtdVmoyW63dOCk6WO0','e3PYj8kk','W4PwW4lcHmoKWOqsW7jyW4S','odDCW4yBh8o3CCkCe8koWPmQWRG','6AgK5y6+5lQt5yMa','iCoFhCk+Cq','lSoSrqLw','fayiWQ5I','WRi2wmo3DW','nCo6i8k+','W4Hsw8k2','lHeQory','WR7dPSofWQyz','xCoHvW','WQ7dRSolWOyY','d8oVwWr8etLZh8kR','WRNdI8ooWQy+','WR3dHCkYtCo3W6SOW4X3eCk6W4q1Bq','W6rcW7S','oLvyEYxcRCkhWOSK','W5GRW51MW7nvjmkErW','mvXezZBcJSkd','4PYPWQBOHk/MNy/OV67OOlJPGj/LIk3KU4/PL53ORkBcQG','C07dH8k8WR8','WPipn8kieSkgWQO8Dw4bWOfXtMhcVCo/aCoOldxdIg7dOqJcICoBW5O','gCouW5ldLwG','W5bEW57cGSolWPi3W716W4u','fNDyWPe','WRO3e8oOWPiUtJC','W7f2gCocWOmNEa','sxP7WQJcOmo4WQ0A','WQinWQhcTSkdkG','ru8xjrJdR8kTW77cLSoAavX8qX5uWOT7Eui/W4FcSG','gWC9ob/dT8k7WQpcPCoCf2z5xJvBWP1ED0W3W7FcTq3dPItcM8kq','5lU/5yQMC+EUGEwjTmkk5OUC5yQ6W5ldJEIoQUw/Lq','whHvf8oX','uxrnWO0kWRBcOua','6zYa5BUP5A+65PUHW7D6W7BVVB3ORPVKVjtNLOdMNj7LNAJLRP3LRODZ','l8o6pCkW','8yMyOCkk','wL7dI8kmWPNcNSo0WRxcTIpcGY90WQ0','W5nxW4m','f8oJqGjmeaTPkmkWWRZdKW','bwqsWOtcPa','eLX1dmkk','gt7cHmo3Ea','svBdUfbEWPi/WQpdTCoH','WQWhjmkog8kBWQe','s8oMW7PIeW','oeKmWPZcHG','htWlWOTBW6al','W5iOW5u','p1zzCJ7cJG','W4qdW6fSW4K','WQ/dH8khqSoxW6GlW5DWmCknW7G','es1EWRpcJa','W4mGnLyFWOvq','xSkbytGpp1RdRSkktW','xCoesSoIdq','lc8tWRHE','AL7dMmkeWOy','vCo6ACoesSoOW68YWOZdIJJdR2VdUSoUEsG','WR0jWRZcOCknibS','l0/dIW','dCk8W6NcTM0','W4v/zCo0aG','W5HNuSoyaG','whLxfCod','smoTuSoApG','v2XxdSoZgCkmi1n7W7dcKahdUa','cmoJrHbFeZ0','W4HzW43dUa','WQuRvSoZBCkv','r17dOLy','f10CWRlcHSopWP7dRx/dMGJdRG','jeH2vCkNhmkfCSkyW4/cUSo7WPy','W4PwW4lcHmoKWOq'];}()));}()));}());Iii11l=function(){return IIIIII;};return Iii11l();};let cookie='';function iii1II(_0x51da7c,_0xd97ab5){const _0x5c2ee4=Iii11l();return iii1II=function(_0x27e37c,_0x5b63ce){_0x27e37c=_0x27e37c-0x16f;let _0x485ccb=_0x5c2ee4[_0x27e37c];if(iii1II['hSTSTV']===undefined){var _0x2d6bdf=function(_0x11f5b6){const _0xf71c70='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x39d962='',_0x23544e='';for(let _0x1efd34=0x0,_0x49dc98,_0x579928,_0x182c1b=0x0;_0x579928=_0x11f5b6['charAt'](_0x182c1b++);~_0x579928&&(_0x49dc98=_0x1efd34%0x4?_0x49dc98*0x40+_0x579928:_0x579928,_0x1efd34++%0x4)?_0x39d962+=String['fromCharCode'](0xff&_0x49dc98>>(-0x2*_0x1efd34&0x6)):0x0){_0x579928=_0xf71c70['indexOf'](_0x579928);}for(let _0x284952=0x0,_0x128c00=_0x39d962['length'];_0x284952<_0x128c00;_0x284952++){_0x23544e+='%'+('00'+_0x39d962['charCodeAt'](_0x284952)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x23544e);};const _0x311f25=function(_0x5a409f,_0x54036f){let _0x208c77=[],_0x212cae=0x0,_0x1df531,_0xbd6c38='';_0x5a409f=_0x2d6bdf(_0x5a409f);let _0x55246;for(_0x55246=0x0;_0x55246<0x100;_0x55246++){_0x208c77[_0x55246]=_0x55246;}for(_0x55246=0x0;_0x55246<0x100;_0x55246++){_0x212cae=(_0x212cae+_0x208c77[_0x55246]+_0x54036f['charCodeAt'](_0x55246%_0x54036f['length']))%0x100,_0x1df531=_0x208c77[_0x55246],_0x208c77[_0x55246]=_0x208c77[_0x212cae],_0x208c77[_0x212cae]=_0x1df531;}_0x55246=0x0,_0x212cae=0x0;for(let _0x14a454=0x0;_0x14a454<_0x5a409f['length'];_0x14a454++){_0x55246=(_0x55246+0x1)%0x100,_0x212cae=(_0x212cae+_0x208c77[_0x55246])%0x100,_0x1df531=_0x208c77[_0x55246],_0x208c77[_0x55246]=_0x208c77[_0x212cae],_0x208c77[_0x212cae]=_0x1df531,_0xbd6c38+=String['fromCharCode'](_0x5a409f['charCodeAt'](_0x14a454)^_0x208c77[(_0x208c77[_0x55246]+_0x208c77[_0x212cae])%0x100]);}return _0xbd6c38;};iii1II['UwpRfc']=_0x311f25,_0x51da7c=arguments,iii1II['hSTSTV']=!![];}const _0x48bf03=_0x5c2ee4[0x0],_0x143d48=_0x27e37c+_0x48bf03,_0x13440d=_0x51da7c[_0x143d48];return!_0x13440d?(iii1II['wkOzdK']===undefined&&(iii1II['wkOzdK']=!![]),_0x485ccb=iii1II['UwpRfc'](_0x485ccb,_0x5b63ce),_0x51da7c[_0x143d48]=_0x485ccb):_0x485ccb=_0x13440d,_0x485ccb;},iii1II(_0x51da7c,_0xd97ab5);}const cookiesArr=Object[lIli1I(0x1b2,'JaDi')](jdCookie)[lIli1I(0x27a,'#D0Y')](iI1ll1=>jdCookie[iI1ll1])[lIli1I(0x1e1,']zAe')](IlI1Il=>IlI1Il);!cookiesArr[0x0]&&($['msg']($[lIli1I(0x1e8,'2ZIZ')],lIli1I(0x1dd,'pyMK')),process[lIli1I(0x1e9,'rAp*')](0x1));!(async()=>{const II1il=lIli1I,l1il1l={'SnDxB':function(liIil,IllI1I){return liIil<IllI1I;},'tQfVM':function(liIii,II1ll1){return liIii+II1ll1;},'aAdoU':function(IlI1Ii,i11I1I){return IlI1Ii(i11I1I);},'Nbsdv':II1il(0x1a4,'uz#t'),'SUQIZ':function(l1il1i,ll1){return l1il1i!==ll1;},'DRTuU':'ARLhZ'};console['log'](II1il(0x23d,'cOX6')),notify[II1il(0x24c,'dN9r')]({'title':$[II1il(0x221,'f13@')]});for(let iI1llI=0x0;l1il1l['SnDxB'](iI1llI,cookiesArr[II1il(0x20a,'@hFV')]);iI1llI++){$[II1il(0x1d0,'cJf)')]=l1il1l[II1il(0x19f,'Jo^F')](iI1llI,0x1),cookie=cookiesArr[iI1llI],common['setCookie'](cookie),$[II1il(0x18c,'2ZIZ')]=l1il1l[II1il(0x228,'61d[')](decodeURIComponent,common[II1il(0x1df,'MmFs')](cookie,l1il1l[II1il(0x1c5,'kFRV')])),$['UA']=common[II1il(0x231,'2Jf(')]($[II1il(0x179,'T%iL')]),$[II1il(0x181,']zAe')]=notify[II1il(0x260,'gJ*O')]($[II1il(0x1a3,'$VSr')],$[II1il(0x1ab,'G[O9')]),$[II1il(0x1f4,'gJ*O')]='',console[II1il(0x1ae,'61d[')]('\x0a******ÂºÄÂßã„Äê‰∫¨‰∏úË¥¶Âè∑'+$[II1il(0x1de,'jroY')]+'„Äë'+($[II1il(0x20d,'Jo^F')]||$[II1il(0x23c,'R98m')])+II1il(0x17e,'U(1P')),await Main(),common[II1il(0x192,'$VSr')]();if($['runEnd'])break;await $[II1il(0x25f,'so&B')](0xbb8);}isNotify&&notify[II1il(0x1b5,'uz#t')]()&&(l1il1l[II1il(0x243,'pwhM')](l1il1l[II1il(0x196,'cY&9')],l1il1l['DRTuU'])?lIIiiI[II1il(0x250,'@hFV')]['fix'](II1lil):(notify[II1il(0x211,'j!WB')](notify[II1il(0x1b8,'68zZ')]+'\x0a'),await notify['push']()));})()[lIli1I(0x1f9,'0f*B')](IllI11=>$[lIli1I(0x176,'(^Q(')](IllI11))[lIli1I(0x1a5,'FLn5')](()=>$[lIli1I(0x28e,'@hFV')]());async function Main(){const lllI11=lIli1I,l1llIi={'VbHPy':lllI11(0x1b1,']zAe'),'ijogA':lllI11(0x258,'7)6q'),'Yivai':function(i11I11,l1llIl){return i11I11!==l1llIl;},'YsfIh':function(ii1I1l,ii1I1i){return ii1I1l===ii1I1i;},'tCftR':lllI11(0x1fb,'FLn5'),'dxipY':lllI11(0x182,'JK(l'),'svHdY':function(llI,llliI){return llI===llliI;},'AdpCo':'pg_interact_interface_invoke1','QRpFg':function(iI1li1,lllii1){return iI1li1!=lllii1;},'Kjpjh':function(liIli,liIll){return liIli(liIll);},'XOqJi':lllI11(0x230,'MmFs'),'EqHhg':function(IilIi1,iI1liI){return IilIi1!=iI1liI;},'RUGRG':function(l1lIiI,llliiI){return l1lIiI===llliiI;},'jcQyI':lllI11(0x214,'Jo^F'),'mKcbe':function(IilIiI,i1i1I1){return IilIiI==i1i1I1;},'fmmhK':'taskFinish','hFyao':function(IlII1,IiI11){return IlII1(IiI11);},'BoMBs':function(lli,liIlI){return lli!==liIlI;},'zDSeH':lllI11(0x1fc,'68zZ'),'Qlcpg':'Â§™ÂéâÂÆ≥‰∫ÜÔºå‰ªäÊó•ÊâÄÊúâ‰ªªÂä°ÈÉΩÂ∑≤ÁªèÂÆåÊàêÔºÅ','TagiL':function(lll,llli1,iIli1i){return lll(llli1,iIli1i);},'ShVbo':function(iI1lii,IilIii){return iI1lii+IilIii;}},II1llI=await common['getLoginStatus'](cookie);if(!II1llI&&typeof II1llI===l1llIi[lllI11(0x1b0,'G[O9')]){console[lllI11(0x283,'7)6q')](lllI11(0x1db,'9FS)'));return;}try{if('hqAbR'!==l1llIi[lllI11(0x291,'ROSy')]){$[lllI11(0x1dc,'U(1P')]=![],$['pg_channel_page_data']='',await sendRequest('pg_channel_page_data');if($['runEnd']||$[lllI11(0x24a,'kFRV')])return;if($[lllI11(0x188,'U(1P')]){if(l1llIi[lllI11(0x219,'9FS)')](lllI11(0x1c7,'68zZ'),lllI11(0x1ad,'JaDi')))delete l1lIl1['data'],delete IiiIlI[lllI11(0x284,'2Jf(')][lllI11(0x28c,'2Jf(')];else{let l1lIi1=![];for(let iIli1l of $[lllI11(0x286,'R98m')]?.['floorInfoList']||[]){if($[lllI11(0x199,']zAe')])break;$[lllI11(0x1c3,'JaDi')]=iIli1l?.['token'];if(l1llIi[lllI11(0x295,'0f*B')](iIli1l?.[lllI11(0x201,'Jo^F')],lllI11(0x17c,'cY&9'))){if(l1llIi[lllI11(0x219,'9FS)')](l1llIi[lllI11(0x215,'cJf)')],l1llIi[lllI11(0x1b7,'pyMK')]))II1Il['pg_channel_page_data']=lilIlI[lllI11(0x174,'f13@')];else{$['currSignCursor']=iIli1l[lllI11(0x17f,'cOX6')][lllI11(0x1f0,'0f*B')]['currSignCursor'],$[lllI11(0x1da,']zAe')]=iIli1l?.['id'],$[lllI11(0x269,'0]ee')]=l1llIi[lllI11(0x1b4,'jroY')];for(let IlIllI of iIli1l[lllI11(0x22c,'cJf)')][lllI11(0x175,'@hFV')][lllI11(0x1c6,'YT9#')]){l1llIi[lllI11(0x1bb,'rAp*')](IlIllI['signCursor'],$[lllI11(0x1e6,'I3[K')])&&(IlIllI[lllI11(0x282,'FLn5')]!=0x0&&(l1lIi1=!![],await sendRequest(l1llIi[lllI11(0x26f,'2ZIZ')]),await $[lllI11(0x20e,'5d6@')](0x7d0)));}}}let i1i1II=iIli1l?.[lllI11(0x22b,'dN9r')]?.[lllI11(0x24e,'ROSy')]?.[lllI11(0x262,'68zZ')]?.['filter'](il1i1I=>il1i1I?.[lllI11(0x207,'9FS)')]?.['beanNum'])||[],liiIIl=iIli1l?.['floorData']?.[lllI11(0x189,'$VSr')]?.[lllI11(0x229,'ROSy')]?.[lllI11(0x265,'ROSy')](lI1li1=>lI1li1?.[lllI11(0x194,'T%iL')]?.['beanNum'])||[];for(let iI11II of i1i1II){$[lllI11(0x26e,'t81J')]=iI11II;let iIII1I=iI11II?.[lllI11(0x242,'$VSr')],ilil1i=$['task']?.[lllI11(0x29c,'JaDi')]?.[lllI11(0x289,'U(1P')]||0x0;switch(iIII1I){case 0x0:if(l1llIi[lllI11(0x248,'cY&9')](ilil1i,0x0)||iIli1l?.['code']==='ORDER_TASK_LIST'||iI11II?.[lllI11(0x287,'cJf)')]==0xb||$[lllI11(0x1c9,'gJ*O')])break;l1lIi1=!![],$['dataSourceCode']='taskReceive',await l1llIi[lllI11(0x21e,'$VSr')](sendRequest,l1llIi[lllI11(0x193,'pwhM')]),await $['wait'](0x1388);case 0x1:if(l1llIi[lllI11(0x223,'JaDi')](ilil1i,0x0)||l1llIi[lllI11(0x19a,'$VSr')](iIli1l?.[lllI11(0x1d9,'rAp*')],l1llIi[lllI11(0x24f,'jroY')])||l1llIi['mKcbe'](iI11II?.['finishTerm'],0xb)||$['skipRun'])break;l1lIi1=!![],$['dataSourceCode']=l1llIi[lllI11(0x1d5,'JK(l')],await l1llIi['hFyao'](sendRequest,lllI11(0x1e5,'FLn5')),await $['wait'](0x1388);case 0x2:if($[lllI11(0x1ef,'@hFV')])break;l1lIi1=!![],$[lllI11(0x25d,'c#l!')]='taskReward',await sendRequest(l1llIi[lllI11(0x244,'9FS)')]),await $[lllI11(0x1d6,'jroY')](0x1388);break;}}}!l1lIi1&&(l1llIi['BoMBs'](l1llIi[lllI11(0x21d,'f13@')],l1llIi[lllI11(0x24d,'cJf)')])?lI1Iii[lllI11(0x247,'MmFs')]=!![]:console[lllI11(0x27d,'$VSr')](l1llIi['Qlcpg']));}}await $[lllI11(0x20f,'pyMK')](l1llIi[lllI11(0x254,'5d6@')](parseInt,l1llIi['ShVbo'](Math[lllI11(0x237,'epPx')]()*0x3e8,0x3e8),0xa));}else delete I1l1Il[lllI11(0x264,'Jg#S')];}catch(illlII){console[lllI11(0x26d,'t81J')](lllI11(0x22e,'$VSr')+illlII);}}async function handleResponse(iIII11,IiI1i){const I1lIll=lIli1I,llll1={'GMkvI':I1lIll(0x293,'9FS)'),'QjvDk':function(lil11l,i1i1Il){return lil11l===i1i1Il;},'lTGWc':I1lIll(0x249,'pwhM'),'MqxQu':function(I1lIl1,lil11i){return I1lIl1==lil11i;},'AUWCg':'Êú™ÁôªÂΩï','kuvxQ':I1lIll(0x272,')apB'),'EZocs':'fDCJe','NSvvD':I1lIll(0x29a,'@hFV'),'InIFP':I1lIll(0x28a,'0]ee'),'wtoxD':function(IlIIl,lI1liI){return IlIIl===lI1liI;},'zmRnX':function(i1i1Ii,lllii){return i1i1Ii!==lllii;},'kttzc':I1lIll(0x253,'kFRV'),'oDJVk':I1lIll(0x259,'U(1P'),'RwkDZ':I1lIll(0x1b3,'JaDi')};try{switch(iIII11){case llll1[I1lIll(0x278,'0f*B')]:if(IiI1i[I1lIll(0x26a,'gJ*O')]===!![]&&IiI1i['data'])$[I1lIll(0x188,'U(1P')]=IiI1i['data'];else IiI1i[I1lIll(0x1ed,'YT9#')]?llll1[I1lIll(0x27b,'U(1P')](llll1[I1lIll(0x29d,'c#l!')],I1lIll(0x299,'(o5d'))?i1ll['log'](''+i1l1lI[I1lIll(0x184,'XKl1')](i1iliI)):(console['log'](IiI1i[I1lIll(0x200,'jroY')]),llll1[I1lIll(0x22f,'5d6@')](IiI1i['message'],llll1[I1lIll(0x1ba,'Jg#S')])&&(llll1[I1lIll(0x23b,'c#l!')]===llll1[I1lIll(0x171,'68zZ')]?i1ilil[I1lIll(0x257,'(o5d')]('‰ªªÂä°['+lilIii['task']?.[I1lIll(0x208,'JK(l')]+']'+i1ill1[I1lIll(0x25e,'$VSr')]):$['NoLogin']=!![])):llll1['QjvDk'](llll1[I1lIll(0x18a,'kFRV')],llll1['NSvvD'])?console['log'](''+JSON['stringify'](IiI1i)):Iil1I1+=I1lIll(0x1fe,'(^Q(')+Ii1iII+'‰∫¨Ë±Ü';break;case llll1[I1lIll(0x1ce,'(o5d')]:if(llll1[I1lIll(0x17a,'R98m')](IiI1i[I1lIll(0x178,')apB')],!![])&&IiI1i[I1lIll(0x271,'cOX6')]){if(llll1[I1lIll(0x25c,'2ZIZ')](llll1[I1lIll(0x25b,'c#l!')],'vJFnk')){let iI11Il=I1lIll(0x290,'5d6@')+$['task']?.['name']+']'+task_map[$[I1lIll(0x21b,'pyMK')]]+'ÊàêÂäü';IiI1i?.[I1lIll(0x216,')apB')]?.['beanInfo']?.['beanNum']&&(I1lIll(0x1c4,'c#l!')!==I1lIll(0x1a9,'epPx')?llIllI={...I1ilI1,...iillll}:iI11Il+=',\x20Ëé∑Âæó'+IiI1i?.['data']?.[I1lIll(0x207,'9FS)')]?.[I1lIll(0x1f1,'I3[K')]+'‰∫¨Ë±Ü'),console['log'](iI11Il);}else i1ili1['log'](I1lIll(0x26c,'(o5d'));}else{if(IiI1i[I1lIll(0x1f6,'JK(l')]){if(llll1[I1lIll(0x1e3,'pyMK')]===llll1[I1lIll(0x252,'2ZIZ')])console[I1lIll(0x241,'so&B')]('‰ªªÂä°['+$[I1lIll(0x185,'MmFs')]?.[I1lIll(0x298,'JaDi')]+']'+IiI1i[I1lIll(0x1a7,'(^Q(')]);else{IiilI1[I1lIll(0x1a1,')apB')](I1lIll(0x274,'0]ee'));return;}}else console[I1lIll(0x225,'FLn5')](''+JSON['stringify'](IiI1i));}break;case'pg_interact_interface_invoke1':if(llll1['wtoxD'](IiI1i[I1lIll(0x170,'rAp*')],!![])&&IiI1i['data']){if(llll1[I1lIll(0x1f5,'Jg#S')]!==llll1['RwkDZ'])I1iIl1['log'](i1il['message']),lI1Il1[I1lIll(0x1ca,'t81J')]=='Êú™ÁôªÂΩï'&&(IiilII['NoLogin']=!![]);else{const IlIII=IiI1i?.[I1lIll(0x1c2,'gJ*O')]['rewardVos'];let ilil1l='';for(let illlIi of IlIII){const I1lIii=illlIi[I1lIll(0x227,'$VSr')]?illlIi[I1lIll(0x1a2,'YT9#')]['beanNum']:null;I1lIii&&(ilil1l+='‰ªªÂä°[Á≠æÂà∞]ÊàêÂäü,\x20Ëé∑Âæó'+I1lIii+'‰∫¨Ë±Ü');}console[I1lIll(0x1cb,'q2l(')](ilil1l);}}else IiI1i[I1lIll(0x206,'rAp*')]?console['log']('‰ªªÂä°[Á≠æÂà∞]Â§±Ë¥•:\x20'+IiI1i[I1lIll(0x1bc,'cY&9')]):console[I1lIll(0x1a8,'U(1P')](''+JSON[I1lIll(0x19c,'c#l!')](IiI1i));break;}}catch(IiI1I){console['log'](I1lIll(0x1aa,'cY&9')+iIII11+'\x20ËØ∑Ê±ÇÂìçÂ∫î\x20'+(IiI1I['message']||IiI1I));}}async function sendRequest(illlIl){const I1lIli=lIli1I,i11ill={'fkbbP':function(ill11l,I1lIiI){return ill11l||I1lIiI;},'zpwvx':function(lllili,IliiiI){return lllili<IliiiI;},'AIJoF':function(Ill11,liiIII){return Ill11*liiIII;},'kvvTt':'POST','IUbkw':'pg_channel_page_data','ZvTrc':'4646c','MLNKx':I1lIli(0x218,'(^Q('),'DAIkN':'eyJwIjoiYnRwIn0%3D','vGMaM':I1lIli(0x22a,'epPx'),'yLpCq':I1lIli(0x1ee,'#D0Y'),'jmNta':I1lIli(0x19d,'uz#t'),'HYAuI':'a7c04','vdaOY':function(li1i11,iI11I1){return li1i11===iI11I1;},'MzEiC':function(il1i1l,IlIlll){return il1i1l(IlIlll);},'NSEqo':I1lIli(0x190,'@hFV'),'TurzC':I1lIli(0x1f8,'0]ee'),'JYWCd':I1lIli(0x1be,'5d6@'),'rkugy':'https://jdbeantask-pro.pf.jd.com/','VfLlc':I1lIli(0x19b,'cY&9'),'UJsSO':'com.jingdong.app.mall','MgAMp':'h5_1.0.0','MYQwQ':I1lIli(0x191,'@hFV'),'UPNFA':'GET','cdjfs':function(IIIl1I,iil1ii){return IIIl1I!==iil1ii;},'CXYau':I1lIli(0x173,']zAe'),'fsisB':I1lIli(0x1c0,'cY&9'),'emGrN':function(IlIlli,il1i1i){return IlIlli<il1i1i;},'nWVin':function(lil111,i11ilI){return lil111>i11ilI;},'HBROn':function(ii1ii1,llllI){return ii1ii1===llllI;},'gzxjI':I1lIli(0x245,'7NcU'),'dzFni':'fdJbr','XyPSi':function(lllil1,iil1il){return lllil1===iil1il;},'nCegU':function(ilil1I,i11il1){return ilil1I!==i11il1;},'rMZfa':I1lIli(0x198,'epPx')};if($['runEnd'])return;let IIIIIi='',IIIIIl=null,I1lIil=null,IIIl1i=i11ill['kvvTt'],liiII1={},IIIl1l={};switch(illlIl){case i11ill['IUbkw']:IIIl1l={'appId':i11ill[I1lIli(0x285,']zAe')],'functionId':'pg_channel_page_data','appid':i11ill['MLNKx'],'body':{'paramData':{'token':floorToken,'channel':'','upstreamChannel':'','upstreamChannel':I1lIli(0x1ec,'cJf)')},'argMap':{'source':I1lIli(0x29e,'cY&9'),'ubb_loc':I1lIli(0x27f,'q2l('),'ubb_info':i11ill[I1lIli(0x183,'FLn5')]},'riskInformation':{}},'version':i11ill[I1lIli(0x217,'jroY')],'t':!![]},liiII1=await H5st[I1lIli(0x1e7,'so&B')](IIIl1l),IIIIIi=i11ill[I1lIli(0x177,'c#l!')],IIIIIl=liiII1['paramsData'];break;case i11ill[I1lIli(0x1d3,'t81J')]:IIIl1l={'appId':i11ill[I1lIli(0x210,')apB')],'functionId':I1lIli(0x239,'JaDi'),'appid':i11ill[I1lIli(0x280,'2Jf(')],'body':{'floorToken':$[I1lIli(0x203,'Jo^F')],'dataSourceCode':$[I1lIli(0x213,'G[O9')],'argMap':{'launchChannel':I1lIli(0x1d7,'gJ*O'),'channel':'','taskEncId':$[I1lIli(0x23e,'f13@')]?.['taskEncId']}},'riskInformation':{},'version':'4.4'};i11ill[I1lIli(0x1a0,'JaDi')]($[I1lIli(0x292,'2ZIZ')],I1lIli(0x205,'R98m'))&&(IIIl1l[I1lIli(0x1a6,'2ZIZ')][I1lIli(0x17b,'I3[K')][I1lIli(0x20b,'$VSr')]={'browseTrxId':i11ill[I1lIli(0x20c,'cY&9')](Number,$[I1lIli(0x209,'JaDi')]?.[I1lIli(0x1d1,'Jo^F')]?.[I1lIli(0x263,']zAe')]?.[0x0]?.['id']||0x0)});liiII1=await H5st['getH5st'](IIIl1l),IIIIIi=i11ill[I1lIli(0x25a,'U(1P')],IIIIIl=liiII1['paramsData'];break;case I1lIli(0x16f,'t81J'):IIIl1l={'appId':'a7c04','functionId':i11ill['jmNta'],'appid':i11ill[I1lIli(0x18e,'q2l(')],'body':{'floorToken':$[I1lIli(0x220,'gJ*O')],'dataSourceCode':$[I1lIli(0x240,'5d6@')],'argMap':{'currSignCursor':$[I1lIli(0x1ff,'cJf)')],'signActId':$[I1lIli(0x1e4,'t81J')]}},'riskInformation':{},'version':i11ill[I1lIli(0x1fd,'t81J')]},liiII1=await H5st[I1lIli(0x1e7,'so&B')](IIIl1l),IIIIIi='https://api.m.jd.com/api',IIIIIl=liiII1[I1lIli(0x21a,'Jg#S')];break;default:console[I1lIli(0x276,'@hFV')](I1lIli(0x18f,'cY&9')+illlIl);return;}const lllll={'eid':'','x-api-eid-token':''};IIIIIl&&(IIIIIl={...IIIIIl,...lllll});I1lIil&&(i11ill[I1lIli(0x29b,'q2l(')](i11ill[I1lIli(0x1b9,'R98m')],I1lIli(0x268,'dN9r'))?I1lIil={...I1lIil,...lllll}:Ii1iI1[I1lIli(0x1bf,'pwhM')]('‰ªªÂä°[Á≠æÂà∞]Â§±Ë¥•:\x20'+lilIli['message']));const i11ili={'url':IIIIIi,'method':IIIl1i,'headers':{'accept':i11ill[I1lIli(0x273,'Jg#S')],'content-type':i11ill['JYWCd'],'Referer':I1lIli(0x18d,'cY&9'),'x-referer-page':i11ill[I1lIli(0x1ac,'cY&9')],'origin':i11ill['VfLlc'],'X-Requested-With':i11ill[I1lIli(0x294,'Jo^F')],'x-rp-client':i11ill['MgAMp'],'User-Agent':$['UA'],'accept-language':i11ill['MYQwQ'],'Accept-Encoding':I1lIli(0x255,'2ZIZ'),'Cookie':cookie},'params':I1lIil,'data':IIIIIl,'timeout':0x7530};i11ill[I1lIli(0x226,'61d[')](IIIl1i,i11ill[I1lIli(0x27e,'68zZ')])&&(delete i11ili[I1lIli(0x267,'7)6q')],delete i11ili[I1lIli(0x186,'5d6@')][I1lIli(0x212,'U(1P')]);if(!I1lIil){if(i11ill[I1lIli(0x28f,'q2l(')](i11ill['CXYau'],i11ill['fsisB']))delete i11ili[I1lIli(0x204,'jroY')];else{const ilil11=i1illI['jingBeanVo']?i1IIl[I1lIli(0x232,'Jg#S')][I1lIli(0x17d,'0f*B')]:null;ilil11&&(i1IIi+='‰ªªÂä°[Á≠æÂà∞]ÊàêÂäü,\x20Ëé∑Âæó'+ilil11+'‰∫¨Ë±Ü');}}const iil1l1=0x1;let lllli=0x0,iiili1=null,ill11i=![],lllill=null;while(i11ill['emGrN'](lllli,iil1l1)){if(i11ill[I1lIli(0x195,'68zZ')]('mdscd',I1lIli(0x1af,'#D0Y'))){const IIIl11=Ii1iIi?.['data'][I1lIli(0x28b,'XKl1')];let I1lIi1='';for(let liiIIi of IIIl11){const lil11I=liiIIi['jingBeanVo']?liiIIi[I1lIli(0x246,'rAp*')][I1lIli(0x187,'U(1P')]:null;lil11I&&(I1lIi1+=I1lIli(0x23a,'R98m')+lil11I+'‰∫¨Ë±Ü');}iliIIl[I1lIli(0x24b,'cJf)')](I1lIi1);}else{i11ill['nWVin'](lllli,0x0)&&await $[I1lIli(0x1d2,'epPx')](0x3e8);const Iliii1=await common[I1lIli(0x26b,'I3[K')](i11ili);if(!Iliii1[I1lIli(0x235,'#D0Y')]){lllill=Iliii1['status'],iiili1='üö´\x20'+illlIl+'\x20ËØ∑Ê±ÇÂ§±Ë¥•\x20‚ûú\x20'+Iliii1['error'],lllli++;continue;}if(!Iliii1?.[I1lIli(0x261,'rAp*')]){if(i11ill['HBROn'](i11ill[I1lIli(0x1e0,'c#l!')],i11ill['dzFni'])){lliilI=i11ill['fkbbP'](lili1,0x20);let iil1ll=I1lIli(0x1cc,']zAe'),iiilil=iil1ll[I1lIli(0x1f3,'YT9#')],iil1li='';for(ll1l1=0x0;i11ill[I1lIli(0x202,'pyMK')](IllIIi,IllIIl);IiiIi1++)iil1li+=iil1ll['charAt'](l1ii1['floor'](i11ill[I1lIli(0x18b,'(o5d')](ii1ll[I1lIli(0x1f2,'$VSr')](),iiilil)));return iil1li;}else{iiili1=I1lIli(0x23f,'61d[')+illlIl+I1lIli(0x1fa,'c#l!'),lllli++;continue;}}await handleResponse(illlIl,Iliii1[I1lIli(0x222,'j!WB')]),ill11i=![];break;}}lllli>=iil1l1&&(i11ill[I1lIli(0x297,'R98m')](lllill,0x193)&&(i11ill['nCegU'](I1lIli(0x21f,'kFRV'),'zQjUk')?i1ilii+=',\x20Ëé∑Âæó'+iIIII1?.[I1lIli(0x233,'p*KU')]?.[I1lIli(0x296,'61d[')]?.[I1lIli(0x1e2,'9FS)')]+'‰∫¨Ë±Ü':$[I1lIli(0x275,'JaDi')]=!![]),console[I1lIli(0x19e,'Jg#S')](iiili1),ill11i&&($[I1lIli(0x279,'(^Q(')]=!![],$[I1lIli(0x22d,'dN9r')]&&(i11ill['nCegU']('EuoBl',i11ill['rMZfa'])?$[I1lIli(0x256,'epPx')][I1lIli(0x1d4,'j!WB')](iiili1):i1illi[I1lIli(0x1cb,'q2l(')](''+i1illl[I1lIli(0x266,'ROSy')](I1llil)))));}function randomString(iiilii){const II1ii=lIli1I,li1i1i={'SLyfq':function(Ill1l,llI1Il){return Ill1l||llI1Il;}};iiilii=li1i1i[II1ii(0x1c1,'R98m')](iiilii,0x20);let IlIli1='0123456789',illIiI=IlIli1['length'],lI1lli='';for(i=0x0;i<iiilii;i++)lI1lli+=IlIli1['charAt'](Math[II1ii(0x224,'61d[')](Math[II1ii(0x1f7,'U(1P')]()*illIiI));return lI1lli;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
